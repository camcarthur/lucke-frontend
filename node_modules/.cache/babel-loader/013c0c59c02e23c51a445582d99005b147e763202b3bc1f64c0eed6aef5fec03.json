{"ast":null,"code":"var _jsxFileName = \"/Users/colinmcarthur/Projects/software/lucke-frontend/src/pages/bettorPortal.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { AuthContext } from '../context/AuthContext';\nimport { apiFetch } from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction BettingPortal() {\n  _s();\n  var _auth$user;\n  const navigate = useNavigate();\n  const {\n    auth,\n    logout\n  } = useContext(AuthContext);\n  const [events, setEvents] = useState([]);\n  const [selectedEvent, setSelectedEvent] = useState(null);\n  const [selectedSubEvent, setSelectedSubEvent] = useState(null);\n  const [selectedContestant, setSelectedContestant] = useState(null);\n  const [userId, setUserId] = useState('');\n  const [yourEvents, setYourEvents] = useState([]);\n  const [userBids, setUserBids] = useState({});\n  useEffect(() => {\n    fetchAllEvents();\n  }, []);\n  async function fetchAllEvents() {\n    try {\n      const res = await apiFetch('/api/events', {\n        credentials: 'include'\n      });\n      const data = await res.json();\n      setEvents(data);\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  // Refresh selected event data after a bet is placed.\n  async function refreshSelectedEvent() {\n    if (selectedEvent) {\n      try {\n        const res = await apiFetch(`/api/events/${selectedEvent.id}`, {\n          credentials: 'include'\n        });\n        const updatedEvent = await res.json();\n        setSelectedEvent(updatedEvent);\n        if (selectedSubEvent) {\n          // Find and update the selected sub-event from the updated event.\n          const updatedSubEvent = updatedEvent.subEvents.find(se => se.id === selectedSubEvent.id);\n          setSelectedSubEvent(updatedSubEvent);\n        }\n      } catch (error) {\n        console.error('Error refreshing selected event:', error);\n      }\n    }\n  }\n  async function placeUserBid(eventId, subEventId, contestantId, amount) {\n    if (!amount || isNaN(amount)) {\n      alert(\"Please enter a valid bid amount.\");\n      return;\n    }\n    try {\n      const res = await apiFetch(`/api/events/${eventId}/bid`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          userId,\n          individual: contestantId,\n          amount: Number(amount),\n          ...(subEventId && {\n            subEventId\n          })\n        })\n      });\n      const data = await res.json();\n      if (data.error) {\n        alert(`Error: ${data.error}`);\n      } else {\n        alert(data.message);\n        refreshSelectedEvent();\n      }\n    } catch (err) {\n      console.error(\"Bid submission failed\", err);\n      alert(\"Bid failed. Try again.\");\n    }\n  }\n  function handleSelectEvent(ev) {\n    setSelectedEvent(ev);\n    setSelectedSubEvent(null); // reset any previously selected sub event\n    setSelectedContestant(null);\n  }\n  function handleSelectContestant(contestant) {\n    setSelectedContestant(contestant);\n  }\n  function handleAddToYourEvents() {\n    if (selectedEvent && !yourEvents.some(event => event.id === selectedEvent.id)) {\n      setYourEvents([...yourEvents, selectedEvent]);\n    }\n  }\n  async function handlePay() {\n    if (!selectedEvent || !selectedContestant || !userId) {\n      alert('Missing info: userId, event, or contestant');\n      return;\n    }\n\n    // Include subEventId if a sub event is selected.\n    const body = {\n      userId,\n      contestantId: selectedContestant.id,\n      amount: selectedContestant.price,\n      ...(selectedSubEvent && {\n        subEventId: selectedSubEvent.id\n      })\n    };\n    try {\n      const res = await apiFetch(`/api/events/${selectedEvent.id}/bets`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(body)\n      });\n      const data = await res.json();\n      if (data.error) {\n        alert(`Error: ${data.error}`);\n      } else {\n        alert(`Mock Payment done! You purchased ${selectedContestant.name} for $${selectedContestant.price}`);\n      }\n      setSelectedContestant(null);\n      setUserId('');\n      // Refresh the selected event (and sub-event) data so that bets update in the UI.\n      refreshSelectedEvent();\n    } catch (error) {\n      console.error(error);\n    }\n  }\n  function handleCreateEvent() {\n    navigate('/admin');\n  }\n  async function handleLogout() {\n    try {\n      await logout();\n      navigate('/login');\n    } catch (error) {\n      console.error('Logout error:', error);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container pt-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-between align-items-center mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Betting Portal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), auth.isLoggedIn && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Logged in as \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: (_auth$user = auth.user) === null || _auth$user === void 0 ? void 0 : _auth$user.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 28\n          }, this), \" (\", auth.role, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [auth.isLoggedIn && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary me-2\",\n          onClick: handleLogout,\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }, this), auth.isLoggedIn && auth.role === 'admin' && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: handleCreateEvent,\n          children: \"Create Event\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Your Events\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"list-group mb-4\",\n          children: yourEvents.length > 0 ? yourEvents.map(ev => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"list-group-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: ev.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 19\n            }, this), \" (ID: \", ev.id, \")\"]\n          }, ev.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 17\n          }, this)) : /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"list-group-item\",\n            children: \"No events added\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"All Events\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"list-group\",\n          children: Array.isArray(events) && events.map(ev => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"list-group-item d-flex justify-content-between align-items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: ev.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 21\n              }, this), \" (ID: \", ev.id, \")\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 21\n              }, this), \"Status: \", ev.status]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-sm btn-outline-primary\",\n              onClick: () => handleSelectEvent(ev),\n              children: \"Select\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 19\n            }, this)]\n          }, ev.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-8\",\n        children: selectedEvent ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"card-title\",\n              children: [selectedEvent.name, \" (Status: \", selectedEvent.status, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-sm btn-info mb-3\",\n              onClick: handleAddToYourEvents,\n              disabled: yourEvents.some(event => event.id === selectedEvent.id),\n              children: yourEvents.some(event => event.id === selectedEvent.id) ? 'Already Added' : 'Add to Your Events'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 17\n            }, this), selectedEvent.status === 'closed' && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger\",\n              children: \"This event is closed. No purchases allowed.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 19\n            }, this), selectedEvent.subEvents && selectedEvent.subEvents.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                children: \"Sub Events\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"list-group\",\n                children: selectedEvent.subEvents.map((subEv, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"list-group-item d-flex justify-content-between align-items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: subEv.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 250,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-sm btn-outline-primary\",\n                    onClick: () => setSelectedSubEvent(subEv),\n                    children: selectedSubEvent && selectedSubEvent.name === subEv.name ? 'Selected' : 'Select'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 251,\n                    columnNumber: 27\n                  }, this)]\n                }, idx, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Contestants:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 17\n            }, this), selectedEvent.subEvents && selectedEvent.subEvents.length > 0 ? selectedSubEvent ? Array.isArray(selectedSubEvent.contestants) && selectedSubEvent.contestants.length > 0 ? /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"table\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"ID\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 275,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 276,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Price\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 277,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Action\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 278,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: selectedSubEvent.contestants.map(c => {\n                  // Check for first-come-first-serve bets.\n                  const alreadyPlaced = selectedSubEvent.gameType === 'first-come-first-serve' && selectedSubEvent.bets && selectedSubEvent.bets.some(b => b.contestantId === c.id);\n                  return /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: c.id\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 290,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: c.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 291,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: [\"$\", c.price]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 292,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: selectedEvent.status === 'open' && yourEvents.some(event => event.id === selectedEvent.id) && (selectedSubEvent.gameType === 'bidding' ? /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"d-flex\",\n                        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"number\",\n                          className: \"form-control form-control-sm me-2\",\n                          placeholder: \"Your bid\",\n                          value: userBids[c.id] || '',\n                          onChange: e => setUserBids(prev => ({\n                            ...prev,\n                            [c.id]: e.target.value\n                          })),\n                          min: \"0\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 298,\n                          columnNumber: 43\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"btn btn-sm btn-primary\",\n                          onClick: () => {\n                            placeUserBid(selectedEvent.id, selectedSubEvent.id, c.id, userBids[c.id]);\n                          },\n                          children: \"Bid\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 308,\n                          columnNumber: 43\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 297,\n                        columnNumber: 41\n                      }, this) : alreadyPlaced ? /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"btn btn-sm btn-danger\",\n                        disabled: true,\n                        children: \"Unavailable\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 319,\n                        columnNumber: 43\n                      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"btn btn-sm btn-success\",\n                        onClick: () => handleSelectContestant(c),\n                        children: \"Buy\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 323,\n                        columnNumber: 43\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 293,\n                      columnNumber: 33\n                    }, this)]\n                  }, c.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 289,\n                    columnNumber: 31\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 23\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"No contestants in this sub event.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 23\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Please select a sub event to view its contestants.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 21\n            }, this) : Array.isArray(selectedEvent.contestants) && selectedEvent.contestants.length > 0 ? /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"table\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"ID\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 349,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 350,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Price\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 351,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Action\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 352,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: selectedEvent.contestants.map(c => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: c.id\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 358,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: c.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 359,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [\"$\", c.price]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 360,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: selectedEvent.status === 'open' && yourEvents.some(event => event.id === selectedEvent.id) && /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn btn-sm btn-success\",\n                      onClick: () => handleSelectContestant(c),\n                      children: \"Buy\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 364,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 361,\n                    columnNumber: 27\n                  }, this)]\n                }, c.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 357,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"No contestants\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 19\n            }, this), selectedEvent.status === 'open' && selectedContestant && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3 border p-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                children: \"Mock Payment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"You selected: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: selectedContestant.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 384,\n                  columnNumber: 37\n                }, this), \" for $\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: selectedContestant.price\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 385,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"User ID (Name): \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 388,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control\",\n                  value: userId,\n                  onChange: e => setUserId(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 389,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-primary\",\n                onClick: handlePay,\n                children: \"Pay with Mock Money\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-muted\",\n          children: \"Select an event from the list\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 152,\n    columnNumber: 5\n  }, this);\n}\n_s(BettingPortal, \"fI1qNQfmavCZeCUifRAnz0OmrAU=\", false, function () {\n  return [useNavigate];\n});\n_c = BettingPortal;\nexport default BettingPortal;\nvar _c;\n$RefreshReg$(_c, \"BettingPortal\");","map":{"version":3,"names":["React","useEffect","useState","useContext","useNavigate","AuthContext","apiFetch","jsxDEV","_jsxDEV","BettingPortal","_s","_auth$user","navigate","auth","logout","events","setEvents","selectedEvent","setSelectedEvent","selectedSubEvent","setSelectedSubEvent","selectedContestant","setSelectedContestant","userId","setUserId","yourEvents","setYourEvents","userBids","setUserBids","fetchAllEvents","res","credentials","data","json","error","console","refreshSelectedEvent","id","updatedEvent","updatedSubEvent","subEvents","find","se","placeUserBid","eventId","subEventId","contestantId","amount","isNaN","alert","method","headers","body","JSON","stringify","individual","Number","message","err","handleSelectEvent","ev","handleSelectContestant","contestant","handleAddToYourEvents","some","event","handlePay","price","name","handleCreateEvent","handleLogout","className","children","fileName","_jsxFileName","lineNumber","columnNumber","isLoggedIn","user","role","onClick","length","map","Array","isArray","status","disabled","subEv","idx","contestants","c","alreadyPlaced","gameType","bets","b","type","placeholder","value","onChange","e","prev","target","min","_c","$RefreshReg$"],"sources":["/Users/colinmcarthur/Projects/software/lucke-frontend/src/pages/bettorPortal.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { AuthContext } from '../context/AuthContext';\nimport { apiFetch } from '../api';\n\nfunction BettingPortal() {\n  const navigate = useNavigate();\n  const { auth, logout } = useContext(AuthContext);\n  const [events, setEvents] = useState([]);\n  const [selectedEvent, setSelectedEvent] = useState(null);\n  const [selectedSubEvent, setSelectedSubEvent] = useState(null);\n  const [selectedContestant, setSelectedContestant] = useState(null);\n  const [userId, setUserId] = useState('');\n  const [yourEvents, setYourEvents] = useState([]);\n  const [userBids, setUserBids] = useState({});\n\n  useEffect(() => {\n    fetchAllEvents();\n  }, []);\n\n  async function fetchAllEvents() {\n    try {\n      const res = await apiFetch('/api/events', {\n        credentials: 'include'\n      });\n      const data = await res.json();\n      setEvents(data);\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  // Refresh selected event data after a bet is placed.\n  async function refreshSelectedEvent() {\n    if (selectedEvent) {\n      try {\n        const res = await apiFetch(`/api/events/${selectedEvent.id}`, {\n          credentials: 'include'\n        });\n        const updatedEvent = await res.json();\n        setSelectedEvent(updatedEvent);\n        if (selectedSubEvent) {\n          // Find and update the selected sub-event from the updated event.\n          const updatedSubEvent = updatedEvent.subEvents.find(\n            (se) => se.id === selectedSubEvent.id\n          );\n          setSelectedSubEvent(updatedSubEvent);\n        }\n      } catch (error) {\n        console.error('Error refreshing selected event:', error);\n      }\n    }\n  }\n\n  async function placeUserBid(eventId, subEventId, contestantId, amount) {\n    if (!amount || isNaN(amount)) {\n      alert(\"Please enter a valid bid amount.\");\n      return;\n    }\n\n    try {\n      const res = await apiFetch(`/api/events/${eventId}/bid`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          userId,\n          individual: contestantId,\n          amount: Number(amount),\n          ...(subEventId && { subEventId })\n        })\n      });\n      const data = await res.json();\n      if (data.error) {\n        alert(`Error: ${data.error}`);\n      } else {\n        alert(data.message);\n        refreshSelectedEvent();\n      }\n    } catch (err) {\n      console.error(\"Bid submission failed\", err);\n      alert(\"Bid failed. Try again.\");\n    }\n  }\n\n  function handleSelectEvent(ev) {\n    setSelectedEvent(ev);\n    setSelectedSubEvent(null); // reset any previously selected sub event\n    setSelectedContestant(null);\n  }\n\n  function handleSelectContestant(contestant) {\n    setSelectedContestant(contestant);\n  }\n\n  function handleAddToYourEvents() {\n    if (selectedEvent && !yourEvents.some(event => event.id === selectedEvent.id)) {\n      setYourEvents([...yourEvents, selectedEvent]);\n    }\n  }\n\n  async function handlePay() {\n    if (!selectedEvent || !selectedContestant || !userId) {\n      alert('Missing info: userId, event, or contestant');\n      return;\n    }\n    \n    // Include subEventId if a sub event is selected.\n    const body = {\n      userId,\n      contestantId: selectedContestant.id,\n      amount: selectedContestant.price,\n      ...(selectedSubEvent && { subEventId: selectedSubEvent.id })\n    };\n\n    try {\n      const res = await apiFetch(`/api/events/${selectedEvent.id}/bets`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(body)\n      });\n      const data = await res.json();\n      if (data.error) {\n        alert(`Error: ${data.error}`);\n      } else {\n        alert(\n          `Mock Payment done! You purchased ${selectedContestant.name} for $${selectedContestant.price}`\n        );\n      }\n      setSelectedContestant(null);\n      setUserId('');\n      // Refresh the selected event (and sub-event) data so that bets update in the UI.\n      refreshSelectedEvent();\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  function handleCreateEvent() {\n    navigate('/admin');\n  }\n\n  async function handleLogout() {\n    try {\n      await logout();\n      navigate('/login');\n    } catch (error) {\n      console.error('Logout error:', error);\n    }\n  }\n\n  return (\n    <div className=\"container pt-4\">\n      {/* Header with title, logout and conditionally rendered \"Create Event\" button */}\n      <div className=\"d-flex justify-content-between align-items-center mb-4\">\n        <div>\n          <h1>Betting Portal</h1>\n          {auth.isLoggedIn && (\n            <p>\n              Logged in as <strong>{auth.user?.name}</strong> ({auth.role})\n            </p>\n          )}\n        </div>\n        <div>\n          {auth.isLoggedIn && (\n            <button className=\"btn btn-secondary me-2\" onClick={handleLogout}>\n              Logout\n            </button>\n          )}\n          {auth.isLoggedIn && auth.role === 'admin' && (\n            <button className=\"btn btn-primary\" onClick={handleCreateEvent}>\n              Create Event\n            </button>\n          )}\n        </div>\n      </div>\n\n      <div className=\"row\">\n        {/* Left column: Your Events and All Events */}\n        <div className=\"col-md-4\">\n          <h3>Your Events</h3>\n          <ul className=\"list-group mb-4\">\n            {yourEvents.length > 0 ? (\n              yourEvents.map((ev) => (\n                <li key={ev.id} className=\"list-group-item\">\n                  <strong>{ev.name}</strong> (ID: {ev.id})\n                </li>\n              ))\n            ) : (\n              <li className=\"list-group-item\">No events added</li>\n            )}\n          </ul>\n\n          <h3>All Events</h3>\n          <ul className=\"list-group\">\n            {Array.isArray(events) &&\n              events.map((ev) => (\n                <li\n                  key={ev.id}\n                  className=\"list-group-item d-flex justify-content-between align-items-center\"\n                >\n                  <div>\n                    <strong>{ev.name}</strong> (ID: {ev.id})\n                    <br />\n                    Status: {ev.status}\n                  </div>\n                  <button\n                    className=\"btn btn-sm btn-outline-primary\"\n                    onClick={() => handleSelectEvent(ev)}\n                  >\n                    Select\n                  </button>\n                </li>\n              ))}\n          </ul>\n        </div>\n\n        {/* Right column: Selected event details and actions */}\n        <div className=\"col-md-8\">\n          {selectedEvent ? (\n            <div className=\"card\">\n              <div className=\"card-body\">\n                <h4 className=\"card-title\">\n                  {selectedEvent.name} (Status: {selectedEvent.status})\n                </h4>\n                <button\n                  className=\"btn btn-sm btn-info mb-3\"\n                  onClick={handleAddToYourEvents}\n                  disabled={yourEvents.some(event => event.id === selectedEvent.id)}\n                >\n                  {yourEvents.some(event => event.id === selectedEvent.id)\n                    ? 'Already Added'\n                    : 'Add to Your Events'}\n                </button>\n                {selectedEvent.status === 'closed' && (\n                  <p className=\"text-danger\">\n                    This event is closed. No purchases allowed.\n                  </p>\n                )}\n\n                {/* Sub Events Section */}\n                {selectedEvent.subEvents && selectedEvent.subEvents.length > 0 && (\n                  <div className=\"mb-3\">\n                    <h5>Sub Events</h5>\n                    <ul className=\"list-group\">\n                      {selectedEvent.subEvents.map((subEv, idx) => (\n                        <li\n                          key={idx}\n                          className=\"list-group-item d-flex justify-content-between align-items-center\"\n                        >\n                          <span>{subEv.name}</span>\n                          <button\n                            className=\"btn btn-sm btn-outline-primary\"\n                            onClick={() => setSelectedSubEvent(subEv)}\n                          >\n                            {selectedSubEvent &&\n                            selectedSubEvent.name === subEv.name\n                              ? 'Selected'\n                              : 'Select'}\n                          </button>\n                        </li>\n                      ))}\n                    </ul>\n                  </div>\n                )}\n\n                <hr />\n                <h5>Contestants:</h5>\n                {selectedEvent.subEvents && selectedEvent.subEvents.length > 0 ? (\n                  selectedSubEvent ? (\n                    Array.isArray(selectedSubEvent.contestants) &&\n                    selectedSubEvent.contestants.length > 0 ? (\n                      <table className=\"table\">\n                        <thead>\n                          <tr>\n                            <th>ID</th>\n                            <th>Name</th>\n                            <th>Price</th>\n                            <th>Action</th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          {selectedSubEvent.contestants.map((c) => {\n                            // Check for first-come-first-serve bets.\n                            const alreadyPlaced =\n                              selectedSubEvent.gameType === 'first-come-first-serve' &&\n                              selectedSubEvent.bets &&\n                              selectedSubEvent.bets.some((b) => b.contestantId === c.id);\n                            return (\n                              <tr key={c.id}>\n                                <td>{c.id}</td>\n                                <td>{c.name}</td>\n                                <td>${c.price}</td>\n                                <td>\n                                  {selectedEvent.status === 'open' &&\n                                    yourEvents.some(event => event.id === selectedEvent.id) && (\n                                      selectedSubEvent.gameType === 'bidding' ? (\n                                        <div className=\"d-flex\">\n                                          <input\n                                            type=\"number\"\n                                            className=\"form-control form-control-sm me-2\"\n                                            placeholder=\"Your bid\"\n                                            value={userBids[c.id] || ''}\n                                            onChange={(e) =>\n                                              setUserBids((prev) => ({ ...prev, [c.id]: e.target.value }))\n                                            }\n                                            min=\"0\"\n                                          />\n                                          <button\n                                            className=\"btn btn-sm btn-primary\"\n                                            onClick={() => {\n                                              placeUserBid(selectedEvent.id, selectedSubEvent.id, c.id, userBids[c.id]);\n                                            }}\n                                          >\n                                            Bid\n                                          </button>\n                                        </div>\n                                      ) : (\n                                        alreadyPlaced ? (\n                                          <button className=\"btn btn-sm btn-danger\" disabled>\n                                            Unavailable\n                                          </button>\n                                        ) : (\n                                          <button\n                                            className=\"btn btn-sm btn-success\"\n                                            onClick={() => handleSelectContestant(c)}\n                                          >\n                                            Buy\n                                          </button>\n                                        )\n                                      )\n                                    )}\n                                </td>\n                              </tr>\n                            );\n                          })}\n                        </tbody>\n                      </table>\n                    ) : (\n                      <p>No contestants in this sub event.</p>\n                    )\n                  ) : (\n                    <p>Please select a sub event to view its contestants.</p>\n                  )\n                ) : Array.isArray(selectedEvent.contestants) &&\n                  selectedEvent.contestants.length > 0 ? (\n                  <table className=\"table\">\n                    <thead>\n                      <tr>\n                        <th>ID</th>\n                        <th>Name</th>\n                        <th>Price</th>\n                        <th>Action</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {selectedEvent.contestants.map((c) => (\n                        <tr key={c.id}>\n                          <td>{c.id}</td>\n                          <td>{c.name}</td>\n                          <td>${c.price}</td>\n                          <td>\n                            {selectedEvent.status === 'open' &&\n                              yourEvents.some(event => event.id === selectedEvent.id) && (\n                                <button\n                                  className=\"btn btn-sm btn-success\"\n                                  onClick={() => handleSelectContestant(c)}\n                                >\n                                  Buy\n                                </button>\n                              )}\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                ) : (\n                  <p>No contestants</p>\n                )}\n\n                {selectedEvent.status === 'open' && selectedContestant && (\n                  <div className=\"mt-3 border p-3\">\n                    <h5>Mock Payment</h5>\n                    <p>\n                      You selected: <strong>{selectedContestant.name}</strong> for $\n                      <strong>{selectedContestant.price}</strong>\n                    </p>\n                    <div className=\"mb-2\">\n                      <label>User ID (Name): </label>\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        value={userId}\n                        onChange={(e) => setUserId(e.target.value)}\n                      />\n                    </div>\n                    <button className=\"btn btn-primary\" onClick={handlePay}>\n                      Pay with Mock Money\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n          ) : (\n            <p className=\"text-muted\">Select an event from the list</p>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default BettingPortal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}